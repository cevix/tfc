---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import Sesion from '../components/Sesion.astro';


import { db, producto, } from 'astro:db';

const productito = await db.select().from(producto)

---

<Layout title="Welcome to Astro.">
		
	<div class=" py-4 d-flex justify-content-center">
		<div class="w-75">
			<h4 class="ms-2">Productos</h4>
			<hr/>
		</div>	
	</div>
	<div class="container-fluid d-flex justify-content-center">
		
	</div>
	<div class="container-fluid d-flex justify-content-center">

		<div class="col-10 d-flex flex-wrap justify-content-center">
			<!-- <div class="col-3 px-3">--><!-- </div>              -->	
			{
				productito.map(({ nombreProducto, descripcion,precio,img,tipo,autor,estado }) => (
				<div class="d-flex px-2 py-3">
					<div class="card col-12" style="width: 18rem;">
						<img srcset={img} class="card-img-top" alt="...">
						<div class="card-header"><a href={"/mostrarPerfil?nombreAutor="+autor} class="author">{autor}</a></div>
						<div class="card-body">
						<h5 class="card-title">{nombreProducto}</h5>
						<p class="card-text">{descripcion}</p>
						<input type="hidden" value={autor}>
						<h4>{precio + "â‚¬"}</h4>
						</div>
					</div>
				</div>
				
				))
			}
			
		</div>

		

	</div>
	<style>
		a{text-decoration: none;}
	</style>
	
</Layout>


	

